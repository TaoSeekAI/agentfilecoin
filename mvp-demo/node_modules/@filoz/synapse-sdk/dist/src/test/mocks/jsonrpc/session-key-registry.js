import { decodeFunctionData, encodeAbiParameters } from 'viem';
import { CONTRACT_ABIS } from "../../../utils/constants.js";
export function sessionKeyRegistryCallHandler(data, options) {
    const { functionName, args } = decodeFunctionData({
        abi: CONTRACT_ABIS.SESSION_KEY_REGISTRY,
        data: data,
    });
    if (options.debug) {
        console.debug('Session Key Registry: calling function', functionName, 'with args', args);
    }
    switch (functionName) {
        case 'authorizationExpiry': {
            if (!options.sessionKeyRegistry?.authorizationExpiry) {
                throw new Error('Service Provider Registry: authorizationExpiry is not defined');
            }
            return encodeAbiParameters(CONTRACT_ABIS.SESSION_KEY_REGISTRY.find((abi) => abi.type === 'function' && abi.name === 'authorizationExpiry')
                .outputs, options.sessionKeyRegistry.authorizationExpiry(args));
        }
        default: {
            throw new Error(`SessionKeyRegistry: unknown function: ${functionName} with args: ${args}`);
        }
    }
}
//# sourceMappingURL=session-key-registry.js.map